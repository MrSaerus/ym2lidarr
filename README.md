**YM ‚Üí Lidarr**

–°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–±–∏—Ä–∞–µ—Ç **–ª–∞–π–∫–∏ –∏–∑ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ **Lidarr** (–∫–∞—Å—Ç–æ–º-–ª–∏—Å—Ç –∞—Ä—Ç–∏—Å—Ç–æ–≤ –∏–ª–∏ —Ä–µ–ª–∏–∑-–≥—Ä—É–ø–ø—ã –∞–ª—å–±–æ–º–æ–≤).
–í –∫–æ–º–ø–ª–µ–∫—Ç–µ: –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, API, Python-–ø—Ä–æ–∫—Å–∏ –¥–ª—è –Ø–ú, SQLite/Prisma, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, –±—ç–∫–∞–ø—ã, —ç–∫—Å–ø–æ—Ä—Ç –≤ JSON/CSV/MD, –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ live-–ª–æ–≥–∏.

üöÄ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

- –°–±–æ—Ä –ª–∞–π–∫–Ω—É—Ç—ã—Ö **—Ç—Ä–µ–∫–æ–≤/–∞–ª—å–±–æ–º–æ–≤** –∏–∑ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏.
- –ú–∞—Ç—á–∏–Ω–≥ —Å **MusicBrainz** (–∞—Ä—Ç–∏—Å—Ç—ã ‚Üí MBID, –∞–ª—å–±–æ–º—ã ‚Üí release-group MBID).
- **Push –≤ Lidarr**: –∞—Ä—Ç–∏—Å—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ –∞–ª—å–±–æ–º—ã.
- –≠–∫—Å–ø–æ—Ä—Ç **JSON/CSV/MD** (–ø—Ä—è–º–æ –∏–∑ –ë–î, –±–µ–∑ —Ñ–∞–π–ª–æ–≤-–∫—É—Å–∫–æ–≤).
- –í–∫–ª–∞–¥–∫–∏ **Found / Unmatched** —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ MB/Yandex Music.
- **Live Logs** ‚Äî –æ–Ω–ª–∞–π–Ω–æ–≤—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ/–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞.
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ**: —Ç–æ–∫–µ–Ω—ã/–∫–ª—é—á–∏, —Ä–µ–∂–∏–º—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, —á–∞—Å—Ç–æ—Ç—ã.
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** (cron) –¥–ª—è –Ø–Ω–¥–µ–∫—Å-—Å–∏–Ω–∫–∞, –õ–∏–¥–∞—Ä—Ä-–ø—É—à–∞ –∏ –±—ç–∫–∞–ø–æ–≤ (–≤–∫–ª/–≤—ã–∫–ª).
- **–ë—ç–∫–∞–ø—ã SQLite** (VACUUM INTO) —Å —Ä–æ—Ç–∞—Ü–∏–µ–π.
- **–ù–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–∏–Ω–∫–∞: Telegram –∏–ª–∏ Webhook.
- **Health-checks** –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (web/api/pyproxy).
- –í—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **SQLite** (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫—ç—à–∏, –∫–∞–Ω–¥–∏–¥–∞—Ç—ã, –ª–æ–≥–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã).

üß© **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

```
Next.js (web, 3000)  ‚îÄ‚îÄ>  Node.js API (4000)  ‚îÄ‚îÄ>  SQLite (Prisma)
‚îÇ        ‚îÇ
‚îÇ        ‚îú‚îÄ‚îÄ> MusicBrainz API
‚îÇ        ‚îî‚îÄ‚îÄ> Lidarr API
‚îÇ
‚îî‚îÄ‚îÄ> PyProxy (FastAPI, 8080) ‚îÄ‚îÄ> Yandex Music
```

- **web** ‚Äî Next.js 14, UI –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.
- **api** ‚Äî Express + Prisma, –≤—Å—è –ª–æ–≥–∏–∫–∞, cron, —ç–∫—Å–ø–æ—Ä—Ç, –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- **pyproxy** ‚Äî FastAPI, –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –Ø–ú (–æ–±—Ö–æ–¥–∏—Ç SmartCaptcha).

üì¶ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)**
–¢—Ä–µ–±—É–µ—Ç—Å—è Docker –∏ docker compose v2.

```bash

# 1) —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
git clone <repo>
cd <repo>

# 2) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ .env
cp .env.example .env

# 3) —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker compose up -d --build

# web: http://localhost:3000
# api: http://localhost:4000/health
# pyproxy: http://localhost:8080/health
```

**–ü—Ä–∏–º–µ—Ä** `docker-compose.yml` **(—É–∫–æ—Ä–æ—á–µ–Ω–Ω—ã–π)**

```yaml
services:
  api:
    build:
      context: .
      dockerfile: docker/api.Dockerfile
    environment:
      - NODE_ENV=production
      - DATABASE_URL=file:/app/data/app.db
      - YA_PYPROXY_URL=http://pyproxy:8080
      - MB_RECHECK_HOURS=168
    ports:
      - '4000:4000'
    volumes:
      - db:/app/data
    healthcheck:
      test: ['CMD-SHELL', 'curl -fsS http://localhost:4000/health || exit 1']
      interval: 30s
      timeout: 5s
      retries: 3
    depends_on:
      - pyproxy

  web:
    build:
      context: .
      dockerfile: docker/web.Dockerfile
    environment:
      - NEXT_PUBLIC_API_BASE=http://localhost:4000
      - NODE_ENV=production
    ports:
      - '3000:3000'
    healthcheck:
      test: ['CMD-SHELL', 'curl -fsS http://localhost:3000/health || exit 1']
      interval: 30s
      timeout: 5s
      retries: 3
    depends_on:
      - api

  pyproxy:
    build:
      context: apps/pyproxy
      dockerfile: Dockerfile
    ports:
      - '8080:8080'
    healthcheck:
      test: ['CMD-SHELL', 'curl -fsS http://localhost:8080/health || exit 1']
      interval: 30s
      timeout: 5s
      retries: 3

volumes:
  db:
```

üßë‚Äçüíª **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**

–¢—Ä–µ–±—É–µ—Ç—Å—è Node.js ‚â• 18.17 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 20.x) –∏ npm.

```bash
npm i

# prisma
export DATABASE_URL="file:./data/app.db"
npx prisma generate
npx prisma migrate dev --name init

# dev-—Å–µ—Ä–≤–µ—Ä—ã (–≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö):
npm run dev:api   # http://localhost:4000
npm run dev:web   # http://localhost:3000

# pyproxy (python >= 3.10)
cd apps/pyproxy
pip install -r requirements.txt
uvicorn main:app --host 0.0.0.0 --port 8080
```

–í –ø—Ä–æ–¥–µ/–≤ –¥–æ–∫–µ—Ä–µ Prisma –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É—Ç—å file:/app/data/app.db.

‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤–æ —Ñ—Ä–æ–Ω—Ç–µ)**
**Yandex Music**

- Driver: pyproxy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ native. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è pyproxy.
- PyProxy URL: –Ω–∞–ø—Ä–∏–º–µ—Ä, http://pyproxy:8080.
- Yandex token: OAuth —Ç–æ–∫–µ–Ω –Ø–ú.
- Sync cron (Yandex): CRON-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –ø—É—Å—Ç–æ (–æ—Ç–∫–ª—é—á–µ–Ω–æ).

**Lidarr**

- Push target: artists (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ albums (release-groups).
- Lidarr URL: http://lidarr:8686
- Lidarr API key: –∫–ª—é—á API.
- Sync cron (Lidarr push): CRON –∏–ª–∏ –ø—É—Å—Ç–æ (–æ—Ç–∫–ª—é—á–µ–Ω–æ).

**Backups (SQLite)**

- Enabled: –≤–∫–ª/–≤—ã–∫–ª.
- Cron: —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞.
- Retention (files): —Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –¥–µ—Ä–∂–∞—Ç—å.
- Directory: –∫–∞—Ç–∞–ª–æ–≥ –±—ç–∫–∞–ø–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é /app/data/backups).
- –ë—ç–∫–∞–ø –¥–µ–ª–∞–µ—Ç –∞—Ç–æ–º–Ω—ã–π —Å–Ω–∞–ø—à–æ—Ç —á–µ—Ä–µ–∑ VACUUM INTO.

**Notifications**

- Type: none / telegram / webhook.
- Telegram:
  - Telegram Bot Token
  - Telegram Chat ID
- Webhook:
  - Webhook URL
  - Webhook Secret (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ HMAC-SHA256 –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ X-Signature).

üñ•Ô∏è **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
**Overview** ‚Äî –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∑–∞–ø—É—Å–∫ —Å–∏–Ω–∫–∞/–ø—É—à–∞.
**Found** ‚Äî —Å–º–∞—Ç—á–µ–Ω–Ω—ã–µ –∞—Ä—Ç–∏—Å—Ç—ã/–∞–ª—å–±–æ–º—ã (—Å—Å—ã–ª–∫–∏ –Ω–∞ MB –∏ YM).
**Unmatched** ‚Äî –Ω–µ —Å–º–∞—Ç—á–µ–Ω–Ω—ã–µ, –∫–∞–Ω–¥–∏–¥–∞—Ç—ã c –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π, —Å—Å—ã–ª–∫–∏ –Ω–∞ MB/YM.
**Live Logs** ‚Äî –ª–æ–≥–∏ —Ç–µ–∫—É—â–µ–≥–æ/–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞, –æ–Ω–ª–∞–π–Ω-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.
**Settings** ‚Äî –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–µ—Å—Ç—ã –∫–æ–Ω–Ω–µ–∫—Ç–æ–≤, –∑–∞–ø—É—Å–∫ –±—ç–∫–∞–ø–∞, —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–∫—Å–ø–æ—Ä—Ç.

üîÅ **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**

1. –°–±–æ—Ä –ª–∞–π–∫–æ–≤ —É –Ø–ú —á–µ—Ä–µ–∑ pyproxy (–∏–ª–∏ native).
2. –ò–∑ —Ç—Ä–µ–∫–æ–≤ —Å–æ–±–∏—Ä–∞–µ–º –∞—Ä—Ç–∏—Å—Ç–æ–≤ –∏ –∞–ª—å–±–æ–º—ã (—É–Ω–∏–∫–∞–ª—å–Ω–æ).
3. –ú–∞—Ç—á–∏–Ω–≥ —Å MusicBrainz c –∫—ç—à–µ–º –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤.
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤/–∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤/–∫—ç—à–∞ –≤ SQLite.
5. –ü—É—à –≤ Lidarr (–∞—Ä—Ç–∏—Å—Ç—ã/–∞–ª—å–±–æ–º—ã ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è).
6. Live-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î, –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ.

**Cool-down —Ä–µ–º–∞—Ç—á–∏–Ω–≥–∞**
–ß—Ç–æ–±—ã –Ω–µ –¥–æ–ª–±–∏—Ç—å MB –±–µ–∑ —Å–º—ã—Å–ª–∞, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –º–∞—Ç—á–∏–Ω–≥ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ MB_RECHECK_HOURS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 168 —á–∞—Å–æ–≤ / 7 –¥–Ω–µ–π).
–ú–æ–∂–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Run (force) ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç cool-down.

üîó **API (–æ—Å–Ω–æ–≤–Ω–æ–µ)**

- GET /health ‚Äî healthcheck API.
- GET /api/stats ‚Äî —Å–≤–æ–¥–∫–∞ –¥–ª—è Overview (artists/albums + last/active runs).
- GET /api/overview ‚Äî –∞–ª–∏–∞—Å —Å–æ —Å—Ö–æ–∂–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.
- **–°–ø–∏—Å–∫–∏**
  - GET /api/found?type=artists|albums&limit&offset
  - GET /api/unmatched?type=artists|albums&limit&offset
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
  - POST /api/sync/yandex ‚Äî { force?: boolean }
  - POST /api/sync/lidarr
- **–õ–æ–≥–∏ –∏ –ø—Ä–æ–≥–æ–Ω—ã**
  - GET /api/runs/:id
  - GET /api/runs/:id/logs?after=0&limit=200
- **–≠–∫—Å–ø–æ—Ä—Ç**
  - GET /api/export/artists.json|csv|md
  - GET /api/export/albums.json|csv|md
- **Backup**
  - POST /api/backup/run
  - GET /api/backup/list
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
  - GET /api/settings
  - POST /api/settings ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –ø–æ–ª—è
  - POST /api/settings/test/yandex ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ø–ú
  - POST /api/settings/test/lidarr ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–Ω–µ–∫—Ç–∞ –∫ Lidarr

üîê **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
| --- | --- | --- |
| DATABASE_URL | –ø—É—Ç—å –∫ SQLite –¥–ª—è Prisma | file:/app/data/app.db |
| YA_PYPROXY_URL | URL Python-–ø—Ä–æ–∫—Å–∏ | http://pyproxy:8080 |
| YANDEX_MUSIC_TOKEN | (–æ–ø—Ü.) —Ç–æ–∫–µ–Ω –Ø–ú –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | y0_AgAAA...|
| YM_TOKEN | (–æ–ø—Ü.) –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –∏–º—è —Ç–æ–∫–µ–Ω–∞ –Ø–ú | |
| MB_RECHECK_HOURS | –∫—É–ª–¥–∞—É–Ω —Ä–µ–º–∞—Ç—á–∏–Ω–≥–∞ –≤ —á–∞—Å–∞—Ö | 168 |
| NEXT_PUBLIC_API_BASE | –±–∞–∑–æ–≤—ã–π URL API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞ | http://localhost:4000 |

`–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —É–∂–µ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ (Settings) ‚Äî –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite.`

üß™ **–ù–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**

**Telegram**: —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–∏–Ω–∫–∞ (ok/error) —Å –∫—Ä–∞—Ç–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π.

**Webhook**: POST JSON –≤–∏–¥–∞:

```json
{
  "source": "yandex",
  "status": "ok",
  "runId": 123,
  "stats": { "...": "..." }
}
```

–ï—Å–ª–∏ –∑–∞–¥–∞–Ω `webhookSecret`, –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Signature: sha256=<HMAC>`.

üß∞ **–¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥**

- **403 SmartCaptcha –æ—Ç –Ø–Ω–¥–µ–∫—Å–∞**

      –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä–∞–π–≤–µ—Ä pyproxy (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) –∏ –±–µ–ª—ã–π IP (–Ω–µ DC/VPN).

  –í native –≤–æ–∑–º–æ–∂–Ω—ã –±–ª–æ–∫–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –Ø–ú.

- **Next.js —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ Node**

  –ù—É–∂–µ–Ω Node ‚â• 18.17 (–ª—É—á—à–µ 20.x).

- **Prisma/SQLite/openssl –≤ alpine-–æ–±—Ä–∞–∑–∞—Ö**

  –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Debian-based –æ–±—Ä–∞–∑—ã. –ï—Å–ª–∏ —Å–æ–±–∏—Ä–∞–µ—Ç–µ —Å–≤–æ—ë ‚Äî —Å—Ç–∞–≤—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π OpenSSL.

- **–ü—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏ Found/Unmatched**

  –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–∏–Ω–∫ –ø—Ä–æ—à—ë–ª (Overview ‚Üí Run) –∏ —á—Ç–æ —Ñ—Ä–æ–Ω—Ç —Å—Ç—É—á–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–æ—É—Ç—ã /api/found –∏ /api/unmatched.

üóÇÔ∏è **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–≤–∞–∂–Ω–æ–µ)**

```bash
apps/
  api/        # Node.js API (Express, Prisma)
    src/
      routes/ (settings, sync, export, stats/overview, found, unmatched, runs, backup)
      services/ (yandex, mb, lidarr, notify)
      scheduler.ts
      workers.ts
      log.ts
      prisma.ts
  web/        # Next.js UI (pages: index, found, unmatched, logs, settings)
  pyproxy/    # FastAPI –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
prisma/
  schema.prisma
docker/
  api.Dockerfile
  web.Dockerfile

```

ü§ù **Contributing**

**PR –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è**: –±–∞–≥—Ñ–∏–∫—Å—ã, —É–ª—É—á—à–µ–Ω–∏—è UI, –Ω–æ–≤—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã, –¥–æ–ø. —Ñ–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞.
**–ü–µ—Ä–µ–¥ PR**: `npm i`, `npx prisma generate`, –ª–∏–Ω—Ç, —Å–±–æ—Ä–∫–∞ web/api, –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–≥–æ–Ω –≤ docker compose.

üó∫Ô∏è **Roadmap**

- –í—ã–±–æ—Ä–æ—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é (assign MBID/RG).
- –ü–∞–∫–µ—Ç–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥—É–±–ª–µ–π.
- –°–∏–Ω—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤/–∞–ª—å–±–æ–º–æ–≤ –∏–∑ Lidarr –æ–±—Ä–∞—Ç–Ω–æ –≤ –Ø–ú (–∏–¥–µ—è).
- SSE/WebSocket –¥–ª—è live-–ª–æ–≥–æ–≤ (–≤–º–µ—Å—Ç–æ polling).
- –†–æ–ª–∏/–¥–æ—Å—Ç—É–ø—ã (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è).
- –ø–æ–∏—Å–∫/—Ñ–∏–ª—å—Ç—Ä –ø–æ –ª–æ–≥–∞–º (artist/album/level),
- —ç–∫—Å–ø–æ—Ä—Ç —Ç–µ–∫—É—â–µ–≥–æ –ª–æ–≥–∞ (NDJSON/CSV),
- –∞–≤—Ç–æ—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ debug –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ‚Äúcompact/verbose‚Äù,
- —Ä–µ—Ç–µ–Ω—à–Ω –¥–ª—è —Å—Ç–∞—Ä—ã—Ö runs (–æ—á–∏—Å—Ç–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É/–≤–æ–∑—Ä–∞—Å—Ç—É),
- –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–æ–±–∞–≤–ª—é –≤ ‚ÄúArtist skip‚Äù –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞ ‚Äî –¥–ª—è —ç—Ç–æ–≥–æ —Ä–∞—Å—à–∏—Ä—é —Å–±–æ—Ä –ª–∞–π–∫–æ–≤ –Ø.–ú—É–∑—ã–∫–∏ –¥–æ —Ç—Ä–µ–∫–æ–≤ –∏ –±—É–¥—É –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å data.song.