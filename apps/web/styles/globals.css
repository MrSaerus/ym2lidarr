/* Tailwind v4: PostCSS плагин @tailwindcss/postcss уже подключен */
@import "tailwindcss";

@layer base {
    :root {
        --bg: #0b0b0d;
        --fg: #e5e7eb;
        --panel: #111216;
        --panel-border: #1c1e25;
        --muted: #9ca3af;

        --primary: #8b5cf6;
        --primary-600: #7c3aed;

        --accent: #22d3ee;
        --warn: #f59e0b;
        --error: #ef4444;

        --ym: #ffcc00;
    }

    /* Светлая тема (опционально) */
    .light {
        --bg: #ffffff;
        --fg: #111827;
        --panel: #ffffff;
        --panel-border: #e5e7eb;
        --muted: #6b7280;
    }

    html, body, #__next {
        height: 100%;
    }

    body {
        @apply antialiased;
        background-color: var(--bg);
        color: var(--fg);
    }

    a { @apply underline-offset-2; }
}

/* Компонентные классы под наш UI */
@layer components {
    .h1 { @apply text-xl font-semibold mb-3; }

    .panel {
        background-color: var(--panel);
        border: 1px solid var(--panel-border);
        @apply rounded-lg;
    }

    .toolbar {
        @apply flex flex-wrap items-center gap-2 mb-3;
    }

    .btn {
        @apply inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm;
        border: 1px solid var(--panel-border);
        background: transparent;
    }
    .btn:hover { @apply opacity-90; }
    .btn-primary {
        background: var(--primary);
        border-color: var(--primary-600);
        color: white;
    }
    .btn-outline {
        @apply bg-transparent;
        color: var(--fg);
    }

    .badge {
        @apply inline-flex items-center rounded-md px-2 py-1 text-xs font-medium;
        background: var(--panel);
        border: 1px solid var(--panel-border);
    }
    .badge-ok    { border-color: rgba(34,211,238,.3); color: var(--accent); }
    .badge-warn  { border-color: rgba(245,158,11,.3); color: var(--warn); }
    .badge-err   { border-color: rgba(239,68,68,.3); color: var(--error); }

    /* Формы (FormRow использует эти классы) */
    .form-row { @apply grid grid-cols-1 md:grid-cols-3 gap-2 items-center; }
    .form-row > label { @apply text-sm text-gray-400; }
    .form-row > .control { @apply md:col-span-2; }

    .input, .select, .textarea {
        @apply w-full rounded-md px-2 py-1.5 text-sm bg-transparent;
        border: 1px solid var(--panel-border);
        color: var(--fg);
    }
    .input:focus, .select:focus, .textarea:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(139,92,246,.35);
    }

    /* Таблицы */
    .table { @apply w-full border-collapse text-sm; }
    .table thead th {
        @apply px-3 py-2 text-left text-gray-400 sticky top-0 bg-[color:var(--panel)];
        border-bottom: 1px solid var(--panel-border);
        z-index: 1;
    }
    .table tbody td {
        @apply px-3 py-2 border-b;
        border-color: var(--panel-border);
    }

    /* Цветовые хелперы */
    .text-primary { color: var(--primary); }
    .text-ym-yellow { color: var(--ym); }

    /* Прогрессбар (если используешь ProgressBar-компонент) */
    .progress {
        @apply w-full h-2 rounded-full bg-gray-700 overflow-hidden;
    }
    .progress .bar {
        @apply h-full rounded-full;
        background: var(--primary);
    }

    /* Размеры иконок — фиксируем 16px */
    .icon { @apply h-4 w-4 shrink-0; }

    .link { text-decoration: underline; opacity: .9; }
    .link:hover { opacity: 1; }

    .table-like-logs thead th {
        border-bottom: 1px solid rgba(148, 163, 184, 0.18); /* slate-400 ~18% */
    }

    .table-like-logs tbody tr + tr {
        border-top: 1px solid rgba(148, 163, 184, 0.12);   /* тонкая линия между строками */
    }

    .table-like-logs tbody tr:hover {
        background: rgba(148, 163, 184, 0.06);            /* лёгкий hover, как в логах */
    }

    /* Кнопочные ссылки в таблицах */
    .link-chip {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 12px;
        line-height: 1;
        border: 1px solid rgba(148,163,184,.25);
        background: rgba(30,41,59,.6); /* slate-800/60 */
        color: #e5e7eb;                /* slate-100 */
        text-decoration: none;
    }
    .link-chip:hover { background: rgba(51,65,85,.6); } /* slate-700/60 */

    .link-chip--ym {
        border-color: rgba(250,204,21,.35);     /* amber */
        color: #fde68a;
        background: rgba(120,53,15,.25);        /* amber-ish dark */
    }
    .link-chip--ym:hover { background: rgba(180,83,9,.28); }

    .link-chip--mb {
        border-color: rgba(99,102,241,.35);     /* indigo */
        color: #c7d2fe;
        background: rgba(49,46,129,.28);        /* indigo-ish dark */
    }
    .link-chip--mb:hover { background: rgba(67,56,202,.3); }

    .log-list li + li {
        border-top: 1px solid rgba(148, 163, 184, 0.12); /* slate-400 @ 12% */
    }
    .log-list li:hover {
        background: rgba(148, 163, 184, 0.06);
    }
    /* --- Settings: layout & tone --- */
    .form-row {
        display: grid;
        grid-template-columns: 220px 1fr;
        gap: 16px;
        align-items: start;
        padding: 8px 0;
    }
    .form-row + .form-row {
        border-top: 1px solid rgba(148, 163, 184, 0.08); /* тонкий разделитель */
    }

    .form-row-label {
        padding-top: 10px;
        font-size: 13px;                  /* было крупнее — делаем спокойнее */
        color: rgba(226, 232, 240, 0.8);  /* slate-200 @ 80% */
    }

    .form-row-control .control > .input,
    .form-row-control .control > .select {
        width: 100%;
    }

    .form-row-help {
        margin-top: 6px;
        font-size: 12px;                  /* меньше и менее акцентно */
        line-height: 1.45;
        color: rgba(148, 163, 184, 0.75); /* slate-400 @ 75% */
    }
    .form-row-help code {
        background: rgba(148, 163, 184, 0.12);
        border-radius: 4px;
        padding: 0 4px;
        font-size: 12px;
    }

    /* заголовки секций внутри панелей — компактные и неброские */
    .section-title {
        font-size: 12px;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        color: rgba(148, 163, 184, 0.7);  /* slate-400 @ 70% */
        margin-bottom: 2px;
    }

    /* мобильная адаптация */
    @media (max-width: 640px) {
        .form-row {
            grid-template-columns: 1fr;
            gap: 8px;
        }
        .form-row-label {
            padding-top: 0;
        }
    }

}
